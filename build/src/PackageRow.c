/* PackageRow.c generated by valac 0.32.0, the Vala compiler
 * generated from PackageRow.vala, do not modify */


#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>


#define EDDY_TYPE_PACKAGE_ROW (eddy_package_row_get_type ())
#define EDDY_PACKAGE_ROW(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), EDDY_TYPE_PACKAGE_ROW, EddyPackageRow))
#define EDDY_PACKAGE_ROW_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), EDDY_TYPE_PACKAGE_ROW, EddyPackageRowClass))
#define EDDY_IS_PACKAGE_ROW(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), EDDY_TYPE_PACKAGE_ROW))
#define EDDY_IS_PACKAGE_ROW_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), EDDY_TYPE_PACKAGE_ROW))
#define EDDY_PACKAGE_ROW_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), EDDY_TYPE_PACKAGE_ROW, EddyPackageRowClass))

typedef struct _EddyPackageRow EddyPackageRow;
typedef struct _EddyPackageRowClass EddyPackageRowClass;
typedef struct _EddyPackageRowPrivate EddyPackageRowPrivate;

#define EDDY_TYPE_DEBIAN_PACKAGE (eddy_debian_package_get_type ())
#define EDDY_DEBIAN_PACKAGE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), EDDY_TYPE_DEBIAN_PACKAGE, EddyDebianPackage))
#define EDDY_DEBIAN_PACKAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), EDDY_TYPE_DEBIAN_PACKAGE, EddyDebianPackageClass))
#define EDDY_IS_DEBIAN_PACKAGE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), EDDY_TYPE_DEBIAN_PACKAGE))
#define EDDY_IS_DEBIAN_PACKAGE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), EDDY_TYPE_DEBIAN_PACKAGE))
#define EDDY_DEBIAN_PACKAGE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), EDDY_TYPE_DEBIAN_PACKAGE, EddyDebianPackageClass))

typedef struct _EddyDebianPackage EddyDebianPackage;
typedef struct _EddyDebianPackageClass EddyDebianPackageClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _EddyDebianPackagePrivate EddyDebianPackagePrivate;
#define _g_free0(var) (var = (g_free (var), NULL))

struct _EddyPackageRow {
	GtkListBoxRow parent_instance;
	EddyPackageRowPrivate * priv;
	EddyDebianPackage* package;
};

struct _EddyPackageRowClass {
	GtkListBoxRowClass parent_class;
};

struct _EddyPackageRowPrivate {
	GtkCheckButton* select_switch;
};

struct _EddyDebianPackage {
	GObject parent_instance;
	EddyDebianPackagePrivate * priv;
	gchar* name;
	gchar* version;
	guint installed_size;
	gchar* homepage;
	gchar* description;
	gboolean valid;
};

struct _EddyDebianPackageClass {
	GObjectClass parent_class;
};


static gpointer eddy_package_row_parent_class = NULL;

GType eddy_package_row_get_type (void) G_GNUC_CONST;
GType eddy_debian_package_get_type (void) G_GNUC_CONST;
#define EDDY_PACKAGE_ROW_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), EDDY_TYPE_PACKAGE_ROW, EddyPackageRowPrivate))
enum  {
	EDDY_PACKAGE_ROW_DUMMY_PROPERTY
};
EddyPackageRow* eddy_package_row_new (EddyDebianPackage* package_);
EddyPackageRow* eddy_package_row_construct (GType object_type, EddyDebianPackage* package_);
static void eddy_package_row_on_select_switch_changed (EddyPackageRow* self);
static void _eddy_package_row_on_select_switch_changed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
void eddy_package_row_set_selected (EddyPackageRow* self, gboolean selected);
gboolean eddy_package_row_get_selected (EddyPackageRow* self);
static void eddy_package_row_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);


static gpointer _g_object_ref0 (gpointer self) {
#line 23 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	return self ? g_object_ref (self) : NULL;
#line 90 "PackageRow.c"
}


static void _eddy_package_row_on_select_switch_changed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
#line 27 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	eddy_package_row_on_select_switch_changed ((EddyPackageRow*) self);
#line 97 "PackageRow.c"
}


EddyPackageRow* eddy_package_row_construct (GType object_type, EddyDebianPackage* package_) {
	EddyPackageRow * self = NULL;
	EddyDebianPackage* _tmp0_ = NULL;
	EddyDebianPackage* _tmp1_ = NULL;
	GtkCheckButton* _tmp2_ = NULL;
	GtkCheckButton* _tmp3_ = NULL;
	GtkCheckButton* _tmp4_ = NULL;
	GtkBox* main_box = NULL;
	GtkBox* _tmp5_ = NULL;
	GtkImage* package_image = NULL;
	GtkImage* _tmp6_ = NULL;
	GtkLabel* name_label = NULL;
	EddyDebianPackage* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gchar* _tmp9_ = NULL;
	gchar* _tmp10_ = NULL;
	GtkLabel* _tmp11_ = NULL;
	GtkLabel* _tmp12_ = NULL;
	gchar* short_description = NULL;
	EddyDebianPackage* _tmp13_ = NULL;
	const gchar* _tmp14_ = NULL;
	gchar** _tmp15_ = NULL;
	gchar** _tmp16_ = NULL;
	gchar** _tmp17_ = NULL;
	gint _tmp17__length1 = 0;
	const gchar* _tmp18_ = NULL;
	gchar* _tmp19_ = NULL;
	gchar* _tmp20_ = NULL;
	GtkLabel* description_label = NULL;
	GtkLabel* _tmp21_ = NULL;
	GtkBox* vertical_box = NULL;
	GtkBox* _tmp22_ = NULL;
	GtkCheckButton* _tmp23_ = NULL;
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_return_val_if_fail (package_ != NULL, NULL);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	self = (EddyPackageRow*) g_object_new (object_type, NULL);
#line 23 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp0_ = package_;
#line 23 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 23 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (self->package);
#line 23 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	self->package = _tmp1_;
#line 25 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp2_ = (GtkCheckButton*) gtk_check_button_new ();
#line 25 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_object_ref_sink (_tmp2_);
#line 25 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (self->priv->select_switch);
#line 25 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	self->priv->select_switch = _tmp2_;
#line 26 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp3_ = self->priv->select_switch;
#line 26 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_toggle_button_set_active ((GtkToggleButton*) _tmp3_, TRUE);
#line 27 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp4_ = self->priv->select_switch;
#line 27 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_signal_connect_object ((GObject*) _tmp4_, "notify::active", (GCallback) _eddy_package_row_on_select_switch_changed_g_object_notify, self, 0);
#line 29 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp5_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_HORIZONTAL, 12);
#line 29 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_object_ref_sink (_tmp5_);
#line 29 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	main_box = _tmp5_;
#line 30 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_object_set ((GtkWidget*) main_box, "margin", 12, NULL);
#line 32 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp6_ = (GtkImage*) gtk_image_new_from_icon_name ("package", GTK_ICON_SIZE_DND);
#line 32 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_object_ref_sink (_tmp6_);
#line 32 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	package_image = _tmp6_;
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp7_ = self->package;
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp8_ = _tmp7_->name;
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp9_ = g_strdup_printf ("<b>%s</b>", _tmp8_);
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp10_ = _tmp9_;
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp11_ = (GtkLabel*) gtk_label_new (_tmp10_);
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_object_ref_sink (_tmp11_);
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp12_ = _tmp11_;
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_free0 (_tmp10_);
#line 34 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	name_label = _tmp12_;
#line 35 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_label_set_use_markup (name_label, TRUE);
#line 36 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_widget_set_halign ((GtkWidget*) name_label, GTK_ALIGN_START);
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp13_ = self->package;
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp14_ = _tmp13_->description;
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp16_ = _tmp15_ = g_strsplit (_tmp14_, "\n", 0);
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp17_ = _tmp16_;
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp17__length1 = _vala_array_length (_tmp15_);
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp18_ = _tmp17_[0];
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp19_ = g_strdup (_tmp18_);
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp20_ = _tmp19_;
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp17_ = (_vala_array_free (_tmp17_, _tmp17__length1, (GDestroyNotify) g_free), NULL);
#line 38 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	short_description = _tmp20_;
#line 39 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp21_ = (GtkLabel*) gtk_label_new (short_description);
#line 39 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_object_ref_sink (_tmp21_);
#line 39 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	description_label = _tmp21_;
#line 40 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_widget_set_halign ((GtkWidget*) description_label, GTK_ALIGN_START);
#line 42 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp22_ = (GtkBox*) gtk_box_new (GTK_ORIENTATION_VERTICAL, 6);
#line 42 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_object_ref_sink (_tmp22_);
#line 42 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	vertical_box = _tmp22_;
#line 43 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_container_add ((GtkContainer*) vertical_box, (GtkWidget*) name_label);
#line 44 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_container_add ((GtkContainer*) vertical_box, (GtkWidget*) description_label);
#line 46 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_container_add ((GtkContainer*) main_box, (GtkWidget*) package_image);
#line 47 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_container_add ((GtkContainer*) main_box, (GtkWidget*) vertical_box);
#line 48 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp23_ = self->priv->select_switch;
#line 48 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_box_pack_end (main_box, (GtkWidget*) _tmp23_, FALSE, FALSE, (guint) 0);
#line 50 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) main_box);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (vertical_box);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (description_label);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_free0 (short_description);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (name_label);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (package_image);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (main_box);
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	return self;
#line 260 "PackageRow.c"
}


EddyPackageRow* eddy_package_row_new (EddyDebianPackage* package_) {
#line 22 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	return eddy_package_row_construct (EDDY_TYPE_PACKAGE_ROW, package_);
#line 267 "PackageRow.c"
}


void eddy_package_row_set_selected (EddyPackageRow* self, gboolean selected) {
	GtkCheckButton* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
#line 53 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_return_if_fail (self != NULL);
#line 54 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp0_ = self->priv->select_switch;
#line 54 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp1_ = selected;
#line 54 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	gtk_toggle_button_set_active ((GtkToggleButton*) _tmp0_, _tmp1_);
#line 282 "PackageRow.c"
}


gboolean eddy_package_row_get_selected (EddyPackageRow* self) {
	gboolean result = FALSE;
	GtkCheckButton* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
#line 57 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 58 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp0_ = self->priv->select_switch;
#line 58 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_tmp1_ = gtk_toggle_button_get_active ((GtkToggleButton*) _tmp0_);
#line 58 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	result = _tmp1_;
#line 58 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	return result;
#line 300 "PackageRow.c"
}


static void eddy_package_row_on_select_switch_changed (EddyPackageRow* self) {
#line 61 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_return_if_fail (self != NULL);
#line 62 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_signal_emit_by_name (self, "changed");
#line 309 "PackageRow.c"
}


static void eddy_package_row_class_init (EddyPackageRowClass * klass) {
#line 15 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	eddy_package_row_parent_class = g_type_class_peek_parent (klass);
#line 15 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_type_class_add_private (klass, sizeof (EddyPackageRowPrivate));
#line 15 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	G_OBJECT_CLASS (klass)->finalize = eddy_package_row_finalize;
#line 15 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	g_signal_new ("changed", EDDY_TYPE_PACKAGE_ROW, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 322 "PackageRow.c"
}


static void eddy_package_row_instance_init (EddyPackageRow * self) {
#line 15 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	self->priv = EDDY_PACKAGE_ROW_GET_PRIVATE (self);
#line 329 "PackageRow.c"
}


static void eddy_package_row_finalize (GObject* obj) {
	EddyPackageRow * self;
#line 15 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, EDDY_TYPE_PACKAGE_ROW, EddyPackageRow);
#line 18 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (self->package);
#line 20 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	_g_object_unref0 (self->priv->select_switch);
#line 15 "/home/donadigo/Projects/eddy/src/PackageRow.vala"
	G_OBJECT_CLASS (eddy_package_row_parent_class)->finalize (obj);
#line 343 "PackageRow.c"
}


GType eddy_package_row_get_type (void) {
	static volatile gsize eddy_package_row_type_id__volatile = 0;
	if (g_once_init_enter (&eddy_package_row_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (EddyPackageRowClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) eddy_package_row_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (EddyPackageRow), 0, (GInstanceInitFunc) eddy_package_row_instance_init, NULL };
		GType eddy_package_row_type_id;
		eddy_package_row_type_id = g_type_register_static (gtk_list_box_row_get_type (), "EddyPackageRow", &g_define_type_info, 0);
		g_once_init_leave (&eddy_package_row_type_id__volatile, eddy_package_row_type_id);
	}
	return eddy_package_row_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



